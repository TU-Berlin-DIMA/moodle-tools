---
title: SQL question
database: uni
question: Provide the correct SQL query?
general_feedback: You provided a SQL query.
correct_query: "SELECT Name,\n
1.0 * (SELECT COUNT(*) FROM Pruefen p WHERE p.MatrNr = s.MatrNr AND Note > 4.0)  /\n
(SELECT COUNT(*) FROM Pruefen p WHERE p.MatrNr = s.MatrNr) Anteil\n
FROM Studenten s\n
ORDER BY Anteil DESC, Name ASC\n
LIMIT 10"
testcases: 
  - testcase:
    result: "Name                            Anteil\n
------------------------------  ----------\n
Mortimer Smith                  1.0\n
Christiano Santos               0.75\n
Danny Phantom                   0.75\n
Emma Watson                     0.75\n
Anakin Skywalker                0.5\n
Christiano Ronaldo Jr.          0.5\n
Cornelius Fillmore              0.5\n
Gertrud                         0.5\n
Kowalski                        0.5\n
Nina Fortner                    0.5"
  - testcase: 
    result: "Name                            Anteil\n
------------------------------  ----------\n
Kowalski                        1.0\n
Mortimer Smith                  1.0\n
Anakin Skywalker                0.75\n
Christiano Santos               0.75\n
Cornelius Fillmore              0.75\n
Danny Phantom                   0.75\n
Dorothea                        0.75\n
Emma Watson                     0.75\n
Gertrud                         0.75\n
Sokka                           0.75"
    change: "UPDATE pruefen SET Note = 5.0 WHERE Note > 3.0;"